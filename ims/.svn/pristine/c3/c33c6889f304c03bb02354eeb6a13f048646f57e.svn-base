package com.eme.ims.client;import org.apache.mina.core.service.IoHandlerAdapter;import org.apache.mina.core.session.IdleStatus;import org.apache.mina.core.session.IoSession;import android.util.Log;import com.eme.ims.codec.Message;import com.eme.ims.handler.ClientDispatcher;import com.eme.ims.handler.IMessageAdapter;public class ClientHandler  extends IoHandlerAdapter {		private ClientDispatcher clientDispatcher = null;		public ClientHandler(IMessageAdapter iMessageAdapter) {		this.clientDispatcher = ClientDispatcher.getInstance(iMessageAdapter);	}		public void sessionCreated(IoSession session) throws Exception {        //TODO session created.    }    public void sessionOpened(IoSession session) throws Exception {        //TODO session opened    }    public void sessionClosed(IoSession session) throws Exception {        //TODO session closed    }    public void sessionIdle(IoSession session, IdleStatus status) throws Exception {        //TODO session idle    }    public void exceptionCaught(IoSession session, Throwable cause) throws Exception {    	Log.e("ClientHandler", "exception encoutered:"+cause);    }    public void messageReceived(IoSession session, Object message) throws Exception {    	Message msg = null;    	if (message instanceof Message) {    		msg = (Message) message;    		clientDispatcher.dispatch(session, msg);    	} else {    		Log.e("ClientHandler", "incorrect data format.");    	}    }    public void messageSent(IoSession session, Object message) throws Exception {        //TODO message sent.    }}